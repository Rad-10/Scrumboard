{"version":3,"file":"LocationDisplay.js","sourceRoot":"","sources":["../../../src/components/Location/LocationDisplay.tsx"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAA2C,UAAU,EAAE,MAAM,OAAO,CAAC;AAExF,OAAO,IAAI,MAAM,SAAS,CAAC;AAC3B,OAAO,IAAI,MAAM,SAAS,CAAC;AAG3B,OAAO,YAAY,MAAM,gBAAgB,CAAC;AAC1C,OAAO,WAAW,MAAM,eAAe,CAAC;AA2BxC,MAAM,eAAe,GAA2D,UAAU,CACxF,CACE,EACE,KAAK,GAAG,EAAE,EACV,WAAW,EACX,OAAO,GAAG,UAAU,EACpB,MAAM,GAAG,OAAO,EAChB,SAAS,GAAG,EAAE,EACd,GAAG,SAAS,EAC0B,EACxC,GAAgC,EAChC,EAAE;IACF,MAAM,EAAE,IAAI,EAAE,GAAG,UAAU,CAAC,WAAW,CAAC,CAAC;IAEzC,MAAM,WAAW,GACf,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,QAAQ,KAAK,KAAK,EAAE,SAAS,EAAE,CAAC;IAEhF,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CACd,KAAC,IAAI,IAAC,GAAG,EAAE,GAA2B,KAAM,SAAS,iBAAc,MAAM,YACvE,8BAAkB,MAAM,6BAAsB,GACzC,CACR,CAAC,CAAC,CAAC,CACF,8BACG,CAAC,OAAO,KAAK,MAAM,IAAI,OAAO,KAAK,UAAU,CAAC;gBAC7C,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,CACnB,KAAC,IAAI,IACH,GAAG,EAAE,GAA6B,KAC9B,SAAS,EACb,MAAM,EAAC,QAAQ,EACf,GAAG,EAAC,qBAAqB,EACzB,IAAI,EAAE,mDAAmD,kBAAkB,CACzE,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,QAAQ,KAAK,KAAK,EAAE,SAAS,EAAE,CAC9E,EAAE,YAEF,WAAW,IAAI,WAAW,GACtB,CACR,CAAC,CAAC,CAAC,CACF,KAAC,IAAI,IAAC,GAAG,EAAE,GAA2B,KAAM,SAAS,YAClD,WAAW,IAAI,WAAW,GACtB,CACR,CAAC,EACH,CAAC,OAAO,KAAK,UAAU,IAAI,OAAO,KAAK,KAAK,CAAC,IAAI,CAChD,KAAC,YAAY,OACP;oBACF,QAAQ,EAAE,KAAK;oBACf,iBAAiB,EAAE,IAAI;oBACvB,MAAM;oBACN,SAAS;iBACV,GACD,CACH,IACA,CACJ,CAAC;AACJ,CAAC,CACF,CAAC;AAEF,eAAe,eAAe,CAAC","sourcesContent":["import { forwardRef, FunctionComponent, PropsWithoutRef, Ref, useContext } from 'react';\n\nimport Text from '../Text';\nimport Link from '../Link';\nimport { BaseProps, ForwardProps } from '../../types';\n\nimport LocationView from './LocationView';\nimport MapsContext from './MapsContext';\nimport { LatLng } from './types';\n\nexport interface LocationDisplayProps extends BaseProps {\n  /** Location address or coordinates */\n  value?: string | LatLng;\n  /** The text to be displayed. */\n  displayText?: string;\n  /**\n   * Controls styling of the field.\n   * @default \"text-map\"\n   */\n  variant?: 'text-map' | 'text' | 'map';\n  /**\n   * Height of the map container.\n   * @default '25rem'\n   */\n  height?: string;\n  /**\n   * How much the map should zoom.\n   * @default 13\n   */\n  zoomLevel?: number;\n  /** Ref for the wrapping element. */\n  ref?: Ref<HTMLAnchorElement | HTMLSpanElement>;\n}\n\nconst LocationDisplay: FunctionComponent<LocationDisplayProps & ForwardProps> = forwardRef(\n  (\n    {\n      value = '',\n      displayText,\n      variant = 'text-map',\n      height = '25rem',\n      zoomLevel = 13,\n      ...restProps\n    }: PropsWithoutRef<LocationDisplayProps>,\n    ref: LocationDisplayProps['ref']\n  ) => {\n    const { name } = useContext(MapsContext);\n\n    const valueString =\n      typeof value === 'string' ? value : `${value?.latitude}, ${value?.longitude}`;\n\n    return !value ? (\n      <Text ref={ref as Ref<HTMLSpanElement>} {...restProps} aria-hidden='true'>\n        <span aria-hidden='true'>&ndash;&ndash;</span>\n      </Text>\n    ) : (\n      <>\n        {(variant === 'text' || variant === 'text-map') &&\n          (name === 'google' ? (\n            <Link\n              ref={ref as Ref<HTMLAnchorElement>}\n              {...restProps}\n              target='_blank'\n              rel='noopener noreferrer'\n              href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(\n                typeof value === 'string' ? value : `${value?.latitude}, ${value?.longitude}`\n              )}`}\n            >\n              {displayText || valueString}\n            </Link>\n          ) : (\n            <Text ref={ref as Ref<HTMLSpanElement>} {...restProps}>\n              {displayText || valueString}\n            </Text>\n          ))}\n        {(variant === 'text-map' || variant === 'map') && (\n          <LocationView\n            {...{\n              location: value,\n              centerMapOnChange: true,\n              height,\n              zoomLevel\n            }}\n          />\n        )}\n      </>\n    );\n  }\n);\n\nexport default LocationDisplay;\n"]}