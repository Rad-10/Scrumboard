{"version":3,"file":"useTriggerableEffect.js","sourceRoot":"","sources":["../../src/hooks/useTriggerableEffect.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAEzD;;;;GAIG;AACH,MAAM,oBAAoB,GAAG,CAAoC,EAAK,EAAE,EAAE;IACxE,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAEhC;QACA,SAAS,EAAE,KAAK;QAChB,IAAI,EAAE,IAAI;KACX,CAAC,CAAC;IAEH,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,KAAK,CAAC,SAAS;YAAE,OAAO;QAE7B,QAAQ,CAAC;YACP,SAAS,EAAE,KAAK;YAChB,IAAI,EAAE,IAAI;SACX,CAAC,CAAC;QAEH,EAAE,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;IACpB,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC;IAEhB,OAAO,WAAW,CAAC,CAAC,GAAG,IAAmB,EAAE,EAAE;QAC5C,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACtC,CAAC,EAAE,EAAE,CAAC,CAAC;AACT,CAAC,CAAC;AAEF,eAAe,oBAAoB,CAAC","sourcesContent":["import { useState, useCallback, useEffect } from 'react';\n\n/**\n * @example const triggerFunction = useTriggerableEffect(cb);\n * @param cb The callback function that will be invoked after re-render by the useEffect.\n * @returns triggerFunction:: The function that will trigger the useEffect.\n */\nconst useTriggerableEffect = <F extends (...args: any[]) => any>(cb: F) => {\n  const [state, setState] = useState<\n    { triggered: false; args: null } | { triggered: true; args: Parameters<F> }\n  >({\n    triggered: false,\n    args: null\n  });\n\n  useEffect(() => {\n    if (!state.triggered) return;\n\n    setState({\n      triggered: false,\n      args: null\n    });\n\n    cb(...state.args);\n  }, [cb, state]);\n\n  return useCallback((...args: Parameters<F>) => {\n    setState({ triggered: true, args });\n  }, []);\n};\n\nexport default useTriggerableEffect;\n"]}