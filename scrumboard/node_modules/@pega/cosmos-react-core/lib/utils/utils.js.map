{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../src/utils/utils.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Fragment, RefObject } from 'react';\n\nimport { TranslationFunction, TranslationPack } from '../i18n';\n\nexport const windowIsAvailable = typeof window !== 'undefined';\nexport const navigatorIsAvailable = typeof navigator !== 'undefined';\nexport const documentIsAvailable = typeof document !== 'undefined';\n\n/** @returns Debounced function that can be called only once in given timeout */\nexport function debounce<F extends (...args: any[]) => any>(\n  this: any,\n  func: F,\n  waitTime: number\n): (...args: Parameters<F>) => void {\n  let timeout: any;\n  return (...args) => {\n    const waitFunc = () => {\n      timeout = null;\n      func.apply(this, args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(waitFunc, waitTime);\n  };\n}\n\n/** Check for an existence of prop */\nexport function hasProp<T extends object, P extends PropertyKey>(\n  obj: T,\n  prop: P\n): obj is T & { [key in P]: unknown } {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n// Add some context...\nexport function bindAll<T extends object, K extends keyof T>(obj: T, names: K[]): void {\n  names.forEach(fn => {\n    obj[fn] = (obj[fn] as unknown as Function).bind(obj);\n  });\n}\n\n// Capitalize\nexport function cap(s: string): string {\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\n/** Generate unique id for elements */\nexport function createUID(): string {\n  return `_${Math.random().toString(36).substr(2, 9)}`;\n}\n\n/** Returns array with numbers from given range */\nexport function range(start: number, end: number): number[] {\n  return Array(end - start + 1)\n    .fill(0)\n    .map((_: any, idx: number) => start + idx);\n}\n\n/** Return an array of strings and regex replaced components */\nexport function replaceMatchWithElement(\n  str: string,\n  re: RegExp,\n  render: (match: string) => JSX.Element\n) {\n  const arr: (string | JSX.Element)[] = [];\n\n  // Only loop for stateful regexes.\n  if (re.global || re.sticky) {\n    let currIdx = 0;\n    let match: RegExpExecArray | null;\n\n    // eslint-disable-next-line no-cond-assign\n    while ((match = re.exec(str))) {\n      arr.push(str.slice(currIdx, match.index), render(match[0]));\n\n      currIdx = match.index + match[0].length;\n    }\n\n    arr.push(str.slice(currIdx));\n  } else {\n    const match = re.exec(str);\n    if (!match) arr.push(str);\n    else {\n      arr.push(\n        str.slice(0, match.index),\n        render(match[0]),\n        str.slice(match.index + match[0].length)\n      );\n    }\n  }\n\n  return arr.flatMap((item, idx) => {\n    if (!item) return [];\n\n    return <Fragment key={idx}>{item}</Fragment>;\n  });\n}\n\n/** Get scrollbar width */\nexport function getScrollbarWidth(): number {\n  const scrollDiv = document.createElement('div');\n  const divSize = '50px';\n  let size = 0;\n\n  scrollDiv.style.position = 'absolute';\n  scrollDiv.style.top = `-${divSize}`;\n  scrollDiv.style.width = divSize;\n  scrollDiv.style.height = divSize;\n  scrollDiv.style.overflow = 'scroll';\n\n  document.body.appendChild(scrollDiv);\n  size = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n\n  return size;\n}\n\n/** Test element for overflow */\nexport function testElForOverflow(el: Element) {\n  return [el.scrollWidth > el.clientWidth, el.scrollHeight > el.clientHeight];\n}\n\n/** Used mostly to trigger css transition after DOM append */\nexport function reflow(node?: HTMLElement | null): number {\n  node = node ?? document.body;\n  return node.offsetWidth;\n}\n\nexport function loadScript(\n  src: string,\n  onLoad: (this: HTMLScriptElement, ev: Event) => any,\n  onError: (this: HTMLScriptElement, ev: ErrorEvent) => any\n) {\n  const scriptElem = document.createElement('script');\n  scriptElem.src = src;\n\n  scriptElem.addEventListener('load', onLoad);\n  scriptElem.addEventListener('error', onError);\n  document.head.appendChild(scriptElem);\n}\n\nexport function deepGet(obj: object, keys: PropertyKey[]): any {\n  let rtn: any = obj;\n\n  const found = keys.every(key => {\n    if (typeof rtn === 'object' && rtn) {\n      rtn = rtn[key];\n      return true;\n    }\n    return false;\n  });\n\n  if (found) return rtn;\n\n  return undefined;\n}\n\n/** Compares two objects by comparing each key value regardless of order. */\nexport function deepObjectComparison(valueA: any, valueB: any): boolean {\n  // If the values are strictly equal, return true\n  if (valueA === valueB) return true;\n\n  // If the values are not objects and are not equal, return false\n  if (\n    typeof valueA !== 'object' ||\n    typeof valueB !== 'object' ||\n    valueA === null ||\n    valueB === null\n  )\n    return false;\n\n  const keysA = Object.keys(valueA);\n  const keysB = Object.keys(valueB);\n\n  // If the objects have different numbers of keys, return false\n  if (keysA.length !== keysB.length) return false;\n\n  for (let i = 0; i < keysA.length; i += 1) {\n    const key = keysA[i];\n    // If there is not a 1:1 mapping of keys between the objects, return false\n    if (!keysB.includes(key)) return false;\n\n    if (typeof valueA[key] === 'function' || typeof valueB[key] === 'function') {\n      // If the value of a given key is a function, and the functions are not equivalent between the objects, return false\n      if (valueA[key].toString() !== valueB[key].toString()) return false;\n      // If all checks have passed thus far, compare the next set of nested values\n    } else if (!deepObjectComparison(valueA[key], valueB[key])) return false;\n  }\n\n  // If all checks have passed, the objects are deeply equal\n  return true;\n}\n\nexport function defineSmartGetter(\n  obj: Record<string, any>,\n  key: string,\n  valueFn: (...args: any[]) => any\n) {\n  Object.defineProperty(obj, key, {\n    get: () => {\n      delete obj[key];\n      obj[key] = valueFn();\n      return obj[key];\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  return obj;\n}\n\nexport function tryCatch<T>(tryFn: () => T): T | undefined;\nexport function tryCatch<T, C>(tryFn: () => T, catchFn: (err: unknown) => C): T | C;\nexport function tryCatch<T, C, F>(\n  tryFn: () => T,\n  catchFn: ((err: unknown) => C) | undefined,\n  finallyFn: () => F\n): F;\nexport function tryCatch<T, C, F>(\n  tryFn: () => T,\n  catchFn?: (err: unknown) => C,\n  finallyFn?: () => F\n): T | C | F | undefined {\n  try {\n    return tryFn();\n  } catch (err) {\n    if (catchFn) return catchFn(err);\n  } finally {\n    // eslint-disable-next-line no-unsafe-finally\n    if (finallyFn) return finallyFn();\n  }\n}\n\n/**\n * Returns normalized list of elements, ie. it de-reference the element from the RefObject if needed.\n * @param els a list of elements or refs to normalize.\n * @returns a new list of the same length with the de-referenced elements.\n */\nexport const normalizeElements = <T extends EventTarget = EventTarget>(\n  els: (T | null | RefObject<T | null>)[]\n): (T | null)[] => {\n  return els.map((el: T | null | RefObject<T | null>) => {\n    if (!el) return null;\n    return el instanceof EventTarget ? el : el.current;\n  });\n};\n\n/**\n * Returns all valid focusable elements within a given ref.\n * @param focusablesRef The ref containing the element to search for focusable elements within.\n * @returns a list of valid focusable elements within the given ref.\n */\nexport const getFocusables = (focusablesRef: RefObject<HTMLElement>) => {\n  if (!focusablesRef.current) return [];\n\n  const selector = 'a, button, input, textarea, select, details, [tabindex]:not([tabindex=\"-1\"])';\n\n  return ([...focusablesRef.current.querySelectorAll(selector)] as HTMLElement[]).filter(\n    el =>\n      el instanceof HTMLElement &&\n      !el.hasAttribute('disabled') &&\n      el.getAttribute('tabindex') !== '-1'\n  );\n};\n\n/**\n * Generator that returns triple of subsequent values in the given array.\n * @param array source array\n * @returns triple of previous, current and next value on every call\n */\nexport function* triple<T>(\n  array: T[]\n): Generator<{ prev?: T; current: T; next?: T }, undefined, unknown> {\n  for (let i = 0; i < array.length; i += 1) {\n    yield { prev: array[i - 1], current: array[i], next: array[i + 1] };\n  }\n  return undefined;\n}\n\n/**\n * Escape special characters in order to pass a string to the RegExp constructor.\n * @param s a string.\n * @returns a string with special characters escaped.\n */\nexport const escapeRegExp = (s: string): string => String(s).replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\n/**\n * Generate a RegExp with a string parameter.\n * @param s The string to match.\n * @param type How to match.\n * @param flags Standard RegExp flags.\n * @returns A RegExp with the match pattern.\n */\nexport const createStringMatcher = (\n  s: string,\n  type: 'contains' | 'start' | 'boundary' = 'contains',\n  flags: string = 'i'\n): RegExp => {\n  const escaped = escapeRegExp(s);\n  let pattern: string = escaped;\n\n  if (type === 'start') {\n    pattern = `^${escaped}`;\n  } else if (type === 'boundary') {\n    pattern = `(?:^|\\\\s)${escaped}`;\n  }\n\n  return new RegExp(pattern, flags);\n};\n\n/**\n * Function generates string representation of the given list accordingly to localization rules of given locale.\n * @param list list of strings to format\n * @param t translation function used internally\n * @param locale locale tag to get the localization rules for\n * @param options formatting options\n * @returns\n */\nexport const formatListToLocaleString = (\n  list: string[],\n  t: TranslationFunction<TranslationPack>,\n  locale: string,\n  {\n    count = list.length,\n    separator\n  }: {\n    count?: number;\n    separator?: string;\n  } = {}\n) => {\n  const remainder = list.length ? count - list.length : 0;\n\n  const toFormat =\n    remainder > 0 ? [...list, t('more_count', [remainder], { count: remainder })] : list;\n\n  if (separator || !('ListFormat' in Intl)) return toFormat.join(separator ?? ', ');\n\n  return new Intl.ListFormat(locale, { style: 'long' }).format(toFormat);\n};\n\n/**\n * Checks if two URLs have the same origin.\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy#definition_of_an_origin Definition of an origin}\n */\nexport const sameOrigin = (\n  {\n    protocol: protocolA,\n    hostname: hostnameA,\n    port: portA\n  }: Pick<URL, 'protocol' | 'hostname' | 'port'>,\n  {\n    protocol: protocolB,\n    hostname: hostnameB,\n    port: portB\n  }: Pick<URL, 'protocol' | 'hostname' | 'port'>\n): boolean => {\n  if (protocolA !== protocolB) return false;\n  if (hostnameA !== hostnameB) return false;\n\n  if (!portA) {\n    if (protocolA === 'http:') portA = '80';\n    else if (protocolA === 'https:') portA = '443';\n  }\n\n  if (!portB) {\n    if (protocolB === 'http:') portB = '80';\n    else if (protocolB === 'https:') portB = '443';\n  }\n\n  return portA === portB;\n};\n\n/**\n * Gets element that currently has focus with support for open shadow roots.\n * @param root Optional container to search for the active element. Defaults to `document`.\n * @returns The Element within the DOM that currently has focus.\n */\nexport const getActiveElement = (root: DocumentOrShadowRoot = document): Element | null => {\n  let activeEl = root.activeElement;\n\n  if (!activeEl) return null;\n\n  if (\n    activeEl.tagName.toLowerCase() === 'iframe' &&\n    (activeEl as HTMLIFrameElement).contentDocument\n  )\n    activeEl = getActiveElement((activeEl as HTMLIFrameElement).contentDocument!) ?? activeEl;\n\n  if (activeEl.shadowRoot) activeEl = getActiveElement(activeEl.shadowRoot) ?? activeEl;\n\n  return activeEl;\n};\n\nexport const popoverMap = new WeakMap<Element, Set<string>>();\n\nexport const getAllPopovers = (parent: ParentNode): Element[] => {\n  const rootNode = parent.getRootNode();\n\n  if (!(rootNode instanceof Document) && !(rootNode instanceof DocumentFragment)) return [];\n\n  const popoverTargets = [...parent.querySelectorAll('[data-popover-target]')];\n\n  return popoverTargets.flatMap(el => {\n    // False positive because popoverMap is exported.\n\n    // eslint-disable-next-line sonarjs/no-empty-collection\n    if (!popoverMap.has(el)) return [];\n\n    // eslint-disable-next-line sonarjs/no-empty-collection\n    const pointerIds = popoverMap.get(el)!;\n\n    const popovers = [...pointerIds].map(id =>\n      rootNode.querySelector(`[data-popover-id=\"${id.replace(/\"/g, '\\\\\"')}\"]`)\n    );\n\n    return popovers.flatMap(popover => (popover ? [popover, ...getAllPopovers(popover)] : []));\n  });\n};\n"]}