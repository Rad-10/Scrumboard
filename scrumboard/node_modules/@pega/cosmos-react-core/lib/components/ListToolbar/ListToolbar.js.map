{"version":3,"file":"ListToolbar.js","sourceRoot":"","sources":["../../../src/components/ListToolbar/ListToolbar.tsx"],"names":[],"mappings":";AAAA,OAAO,EACL,UAAU,EAIV,WAAW,EACX,OAAO,EACP,MAAM,EACN,QAAQ,EACT,MAAM,OAAO,CAAC;AAEf,OAAO,OAAO,MAAM,YAAY,CAAC;AACjC,OAAO,IAAI,MAAM,SAAS,CAAC;AAC3B,OAAO,MAAM,MAAM,WAAW,CAAC;AAE/B,OAAO,EAAE,aAAa,EAAE,kBAAkB,EAAE,OAAO,EAAE,MAAM,aAAa,CAAC;AACzE,OAAO,IAAI,MAAM,SAAS,CAAC;AAC3B,OAAO,WAAW,MAAM,gBAAgB,CAAC;AACzC,OAAO,IAAI,EAAE,EAAE,YAAY,EAAE,MAAM,SAAS,CAAC;AAC7C,OAAO,KAAK,UAAU,MAAM,2BAA2B,CAAC;AACxD,OAAO,KAAK,eAAe,MAAM,kCAAkC,CAAC;AACpE,OAAO,KAAK,OAAO,MAAM,wBAAwB,CAAC;AAClD,OAAO,KAAK,QAAQ,MAAM,yBAAyB,CAAC;AACpD,OAAO,KAAK,QAAQ,MAAM,yBAAyB,CAAC;AACpD,OAAO,EAAE,OAAO,EAAE,MAAM,aAAa,CAAC;AACtC,OAAO,UAAU,MAAM,eAAe,CAAC;AACvC,OAAO,EAAE,KAAK,EAAE,MAAM,WAAW,CAAC;AAElC,OAAO,iBAA6C,MAAM,qBAAqB,CAAC;AAChF,OAAO,EACL,kBAAkB,EAClB,gBAAgB,EAChB,iBAAiB,EACjB,iBAAiB,EAClB,MAAM,sBAAsB,CAAC;AAO9B,OAAO,kBAAkB,MAAM,sBAAsB,CAAC;AAEtD,YAAY,CAAC,UAAU,EAAE,eAAe,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;AAEvE,MAAM,SAAS,GAAG,CAAC,EAAE,KAAK,EAAqD,EAAE,EAAE;IACjF,MAAM,CAAC,GAAG,OAAO,EAAE,CAAC;IACpB,OAAO,CACL,MAAC,IAAI,IAAC,OAAO,EAAC,WAAW,aACtB,KAAK,CAAC,KAAK,KAAK,SAAS;gBACxB,CAAC,CAAC,eAAe,EAAE,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;oBACzE,KAAK,EAAE,KAAK,CAAC,KAAK;iBACnB,CAAC,EACH,KAAK,CAAC,KAAK,KAAK,SAAS,IAAI,KAAK,CAAC,QAAQ,KAAK,SAAS,IAAI,GAAG,EAChE,KAAK,CAAC,QAAQ,KAAK,SAAS;gBAC3B,IAAI,CAAC,CAAC,gBAAgB,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,GAAG,IACpE,CACR,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,iBAAiB,GAAG,CAAC,EACzB,EAAE,EACF,gBAAgB,EAChB,QAAQ,EACR,OAAO,EAMR,EAAE,EAAE;IACH,MAAM,CAAC,GAAG,OAAO,EAAE,CAAC;IACpB,IAAI,OAAoC,CAAC;IACzC,IAAI,IAAwC,CAAC;IAE7C,IAAI,EAAE,KAAK,QAAQ,EAAE;QACnB,OAAO,GAAG,QAAQ,CAAC;QACnB,IAAI,GAAG,QAAQ,CAAC;KACjB;SAAM,IAAI,EAAE,KAAK,MAAM,EAAE;QACxB,OAAO,GAAG,MAAM,CAAC;QACjB,IAAI,GAAG,eAAe,CAAC;KACxB;SAAM;QACL,OAAO,GAAG,OAAO,CAAC;QAClB,IAAI,GAAG,KAAK,CAAC;KACd;IAED,MAAM,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC;IACxB,MAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC;IAE7C,IAAI,OAAO,CAAC,gBAAgB,EAAE,UAAU,CAAC,EAAE;QACzC,OAAO,CACL,wBACE,KAAC,MAAM,IACL,OAAO,EAAE,OAAO,EAChB,IAAI,EAAE,QAAQ,EACd,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,EAClC,OAAO,EAAE,OAAO,YAEhB,MAAC,IAAI,IAAC,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,EAAC,MAAM,aACxE,KAAC,IAAI,IAAC,IAAI,EAAE,IAAI,GAAI,EACnB,CAAC,QAAQ,IAAI,IAAI,EACjB,CAAC,QAAQ,IAAI,gBAAgB,CAAC,KAAK,IAAI,KAAC,KAAK,cAAE,gBAAgB,CAAC,KAAK,GAAS,IAC1E,GACA,GACL,CACP,CAAC;KACH;IAED,IAAI,OAAO,CAAC,gBAAgB,EAAE,OAAO,CAAC,EAAE;QACtC,OAAO,CACL,wBACE,KAAC,UAAU,IACT,OAAO,EAAE,OAAO,EAChB,IAAI,EAAE,IAAI,EACV,IAAI,EAAE,IAAI,EACV,QAAQ,EAAE,QAAQ,EAClB,KAAK,EAAE,gBAAgB,CAAC,KAAK,EAC7B,OAAO,EAAE,OAAO,EAChB,IAAI,EAAE;oBACJ,IAAI,EAAE,gBAAgB,CAAC,IAAI;oBAC3B,KAAK,EAAE,gBAAgB,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;oBAC5E,WAAW,EAAE,gBAAgB,CAAC,WAAW;iBAC1C,GACD,GACE,CACP,CAAC;KACH;IAED,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEF,MAAM,WAAW,GAAuD,UAAU,CAChF,CACE,EACE,OAAO,EACP,gBAAgB,EAChB,SAAS,EACT,MAAM,EACN,KAAK,EACL,iBAAiB,EACjB,MAAM,EACN,IAAI,EACJ,KAAK,EACL,OAAO,EACP,gBAAgB,EAChB,SAAS,EACyB,EACpC,GAA4B,EAC5B,EAAE;IACF,MAAM,CAAC,GAAG,OAAO,EAAE,CAAC;IACpB,MAAM,cAAc,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC;IAC3C,MAAM,eAAe,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC;IAC5C,MAAM,4BAA4B,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,CAAC;IAE1E,MAAM,CAAC,oBAAoB,EAAE,uBAAuB,CAAC,GAAG,QAAQ,CAAuB,IAAI,CAAC,CAAC;IAC7F,MAAM,wBAAwB,GAAG,MAAM,EAAqB,CAAC;IAE7D,MAAM,CAAC,wBAAwB,EAAE,2BAA2B,CAAC,GAC3D,QAAQ,EAAoD,CAAC;IAC/D,MAAM,CAAC,oBAAoB,EAAE,uBAAuB,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAExE,MAAM,eAAe,GAAG,OAAO,CAAC,GAAG,EAAE;QACnC,IAAI,CAAC,SAAS,EAAE,OAAO;YAAE,OAAO,IAAI,CAAC;QACrC,MAAM,IAAI,GAAG,SAAS,CAAC,KAAK,IAAI,CAAC,CAAC,YAAY,CAAC,CAAC;QAEhD,OAAO,CACL,KAAC,MAAM,IACL,OAAO,EAAE,cAAc,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,QAAQ,EAChD,IAAI,EAAE,CAAC,cAAc,EACrB,KAAK,EAAE,cAAc,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,gBAC5B,IAAI,EAChB,OAAO,EAAE,SAAS,CAAC,OAAO,YAEzB,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAC,IAAI,IAAC,IAAI,EAAC,MAAM,GAAG,GACtC,CACV,CAAC;IACJ,CAAC,EAAE,CAAC,CAAC,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC,CAAC;IAEnC,MAAM,YAAY,GAAG,MAAM,IAAI,CAC7B,KAAC,iBAAiB,IAChB,EAAE,EAAC,QAAQ,EACX,gBAAgB,EAAE,MAAM,EACxB,QAAQ,EAAE,CAAC,eAAe,EAC1B,OAAO,EAAE,CAAC,CAAC,EAAE;YACX,uBAAuB,CAAC,QAAQ,CAAC,CAAC;YAClC,wBAAwB,CAAC,OAAO,GAAG,CAAC,CAAC,aAAa,CAAC;QACrD,CAAC,GACD,CACH,CAAC;IAEF,MAAM,UAAU,GAAG,IAAI,IAAI,CACzB,KAAC,iBAAiB,IAChB,EAAE,EAAC,MAAM,EACT,gBAAgB,EAAE,IAAI,EACtB,QAAQ,EAAE,CAAC,eAAe,EAC1B,OAAO,EAAE,CAAC,CAAC,EAAE;YACX,uBAAuB,CAAC,MAAM,CAAC,CAAC;YAChC,wBAAwB,CAAC,OAAO,GAAG,CAAC,CAAC,aAAa,CAAC;QACrD,CAAC,GACD,CACH,CAAC;IAEF,MAAM,WAAW,GAAG,KAAK,IAAI,CAC3B,KAAC,iBAAiB,IAChB,EAAE,EAAC,OAAO,EACV,gBAAgB,EAAE,KAAK,EACvB,QAAQ,EAAE,CAAC,eAAe,EAC1B,OAAO,EAAE,CAAC,CAAC,EAAE;YACX,uBAAuB,CAAC,OAAO,CAAC,CAAC;YACjC,wBAAwB,CAAC,OAAO,GAAG,CAAC,CAAC,aAAa,CAAC;QACrD,CAAC,GACD,CACH,CAAC;IAEF,IAAI,kBAAkB,GAAG,IAAI,CAAC;IAC9B,IAAI,oBAAoB,EAAE;QACxB,MAAM,gBAAgB,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,oBAAoB,CAAC,CAAC;QACvE,IAAI,gBAAgB,IAAI,OAAO,CAAC,gBAAgB,EAAE,UAAU,CAAC,EAAE;YAC7D,kBAAkB,GAAG,CACnB,KAAC,kBAAkB,IACjB,MAAM,EAAE,wBAAwB,CAAC,OAAO,EACxC,OAAO,EAAE,CAAC,CAAC,GAAG,oBAAoB,KAAK,CAAC,EACxC,QAAQ,EAAE,GAAG,EAAE;oBACb,IAAI,gBAAgB,CAAC,QAAQ,EAAE,KAAK,KAAK;wBAAE,OAAO;oBAClD,uBAAuB,CAAC,IAAI,CAAC,CAAC;gBAChC,CAAC,EACD,QAAQ,EAAE,GAAG,EAAE;oBACb,IAAI,gBAAgB,CAAC,QAAQ,EAAE,KAAK,KAAK;wBAAE,OAAO;oBAClD,uBAAuB,CAAC,IAAI,CAAC,CAAC;gBAChC,CAAC,YAED,KAAC,gBAAgB,CAAC,QAAQ,KAAG,GACV,CACtB,CAAC;SACH;KACF;IAED,MAAM,oBAAoB,GAAG,WAAW,CACtC,CACE,EAA+B,EAC/B,IAAY,EACZ,gBAA0D,EAC1D,EAAE;QACF,OAAO;YACL,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;YACX,EAAE;YACF,IAAI;YACJ,KAAK,EAAE,gBAAgB,CAAC,KAAK;YAC7B,OAAO,EAAE,GAAG,EAAE;gBACZ,IAAI,OAAO,CAAC,gBAAgB,EAAE,UAAU,CAAC,EAAE;oBACzC,uBAAuB,CAAC,EAAE,CAAC,CAAC;oBAC5B,wBAAwB,CAAC,OAAO,GAAG,4BAA4B,CAAC,OAAO,IAAI,SAAS,CAAC;iBACtF;gBACD,IAAI,OAAO,CAAC,gBAAgB,EAAE,OAAO,CAAC,EAAE;oBACtC,2BAA2B,CAAC;wBAC1B,OAAO,EAAE,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC;wBACtB,IAAI,EAAE;4BACJ,IAAI,EAAE,gBAAgB,CAAC,IAAI;4BAC3B,KAAK,EAAE,gBAAgB,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;4BAC5E,WAAW,EAAE,gBAAgB,CAAC,WAAW;yBAC1C;qBACF,CAAC,CAAC;oBACH,uBAAuB,CAAC,IAAI,CAAC,CAAC;iBAC/B;YACH,CAAC;SACF,CAAC;IACJ,CAAC,EACD,EAAE,CACH,CAAC;IAEF,MAAM,gBAAgB,GAAG,OAAO,CAAC,GAAG,EAAE;QACpC,IAAI,YAAY,GAAa,EAAE,CAAC;QAChC,IAAI,MAAM,EAAE;YACV,MAAM,YAAY,GAAW,oBAAoB,CAAC,QAAQ,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;YAC9E,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACjC;QACD,IAAI,IAAI,EAAE;YACR,MAAM,UAAU,GAAW,oBAAoB,CAAC,MAAM,EAAE,eAAe,EAAE,IAAI,CAAC,CAAC;YAC/E,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC/B;QACD,IAAI,KAAK,EAAE;YACT,MAAM,WAAW,GAAW,oBAAoB,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;YACxE,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAChC;QACD,IAAI,OAAO,EAAE;YACX,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;SAC7C;QAED,OAAO,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,SAAS,CAAC;IACxD,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,oBAAoB,CAAC,CAAC,CAAC;IAEzD,OAAO,CACL,MAAC,IAAI,IACH,EAAE,EAAE,iBAAiB,EACrB,SAAS,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,EAAE,EAC1C,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,EACjB,GAAG,EAAE,GAAG,EACR,IAAI,EAAC,SAAS,aAEb,CAAC,OAAO;gBACP,eAAe;gBACf,CAAC,SAAS,IAAI,CAAC,KAAK,IAAI,iBAAiB,IAAI,MAAM,IAAI,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAC9E,MAAC,IAAI,IAAC,SAAS,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,EAAE,CAAC,EAAE,aAClE,MAAC,IAAI,IAAC,SAAS,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,aAC5D,OAAO;gCACN,CAAC,OAAO,OAAO,KAAK,QAAQ,CAAC,CAAC,CAAC,CAC7B,KAAC,iBAAiB,IAAC,OAAO,EAAC,IAAI,EAAC,QAAQ,EAAE,gBAAgB,EAAE,QAAQ,YACjE,OAAO,GACU,CACrB,CAAC,CAAC,CAAC,CACF,KAAC,kBAAkB,IACjB,OAAO,EAAC,MAAM,EACd,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EAC9E,IAAI,EAAE;wCACJ,IAAI,EAAE,eAAe;wCACrB,KAAK,EAAE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;4CAChC,GAAG,IAAI;4CACP,OAAO,EAAE,GAAG,IAAI,CAAC,IAAI,GACnB,IAAI,CAAC,EAAE,KAAK,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,EACzD,GAAG,IAAI,CAAC,EAAE,KAAK,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;yCACtE,CAAC,CAAC;wCACH,WAAW,EAAE,OAAO,CAAC,YAAY;qCAClC,EACD,QAAQ,EAAE,gBAAgB,EAAE,QAAQ,GACpC,CACH,CAAC,EACH,cAAc,IAAI,SAAS,IAAI,CAC9B,8BACG,KAAK,IAAI,KAAC,SAAS,IAAC,KAAK,EAAE,KAAK,GAAI,EACpC,iBAAiB,IACjB,CACJ,IACI,EACP,MAAC,IAAI,IAAC,SAAS,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,EAAE,aAC9C,MAAM,IAAI,SAAS,IAAI,cAAc,IAAI,KAAC,WAAW,OAAK,MAAM,GAAI,EACpE,eAAe,EACf,SAAS,IAAI,gBAAgB,IAAI,CAChC,yBACE,KAAC,OAAO,IACN,KAAK,EAAE,gBAAgB,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,SAAS,EAAE,EAAE,EAAE,CAAC,CAAC;wCACvD,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,KAAC,IAAI,IAAC,IAAI,EAAE,IAAI,GAAI,CAAC,CAAC,CAAC,SAAS;wCAC/C,GAAG,SAAS;qCACb,CAAC,CAAC,EACH,MAAM,EAAE,CAAC,EACT,GAAG,EAAE,4BAA4B,GACjC,GACG,CACR,IACI,IACF,CACR,EACA,CAAC,CAAC,SAAS,IAAI,CAAC,cAAc,CAAC,IAAI,CAClC,MAAC,IAAI,IAAC,SAAS,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,EAAE,CAAC,EAAE,aAClE,MAAC,IAAI,IACH,EAAE,EAAE,gBAAgB,EACpB,SAAS,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,EAAE,EACzD,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,aAEhB,MAAM,IAAI,KAAC,WAAW,OAAK,MAAM,GAAI,EACrC,cAAc,IAAI,CAAC,SAAS,IAAI,CAC/B,8BACG,KAAK,IAAI,KAAC,SAAS,IAAC,KAAK,EAAE,KAAK,GAAI,EACpC,iBAAiB,IACjB,CACJ,IACI,EACN,CAAC,SAAS,IAAI,CAAC,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,OAAO,CAAC,IAAI,CACvE,MAAC,IAAI,IAAC,SAAS,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,aAC9E,8BACG,YAAY,EACZ,UAAU,EACV,WAAW,IACX,EACF,OAAO,IAAI,CACV,KAAC,OAAO,IACN,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,SAAS,EAAE,EAAE,EAAE,CAAC,CAAC;oCAC9C,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,KAAC,IAAI,IAAC,IAAI,EAAE,IAAI,GAAI,CAAC,CAAC,CAAC,SAAS;oCAC/C,GAAG,SAAS;iCACb,CAAC,CAAC,EACH,MAAM,EAAE,CAAC,EACT,GAAG,EAAE,4BAA4B,GACjC,CACH,IACI,CACR,IACI,CACR,EACA,CAAC,cAAc,IAAI,CAAC,KAAK,IAAI,iBAAiB,CAAC,IAAI,CAClD,MAAC,IAAI,IAAC,SAAS,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,EAAE,aAC5D,KAAK,IAAI,KAAC,SAAS,IAAC,KAAK,EAAE,KAAK,GAAI,EACpC,iBAAiB,IACb,CACR,EAEA,kBAAkB,EAElB,SAAS,IAAI,CACZ,KAAC,iBAAiB,IAChB,SAAS,EAAE,4BAA4B,EACvC,OAAO,EAAE,wBAAwB,EAAE,OAAO,EAC1C,IAAI,EAAE,wBAAwB,EAAE,IAAI,EACpC,MAAM,EAAE,oBAAoB,EAC5B,OAAO,EAAE,GAAG,EAAE,CAAC,uBAAuB,CAAC,KAAK,CAAC,GAC7C,CACH,IACI,CACR,CAAC;AACJ,CAAC,CACF,CAAC;AAEF,eAAe,WAAW,CAAC","sourcesContent":["import {\n  forwardRef,\n  FunctionComponent,\n  MouseEvent,\n  PropsWithoutRef,\n  useCallback,\n  useMemo,\n  useRef,\n  useState\n} from 'react';\n\nimport Actions from '../Actions';\nimport Text from '../Text';\nimport Button from '../Button';\nimport { Action, ForwardProps } from '../../types';\nimport { useBreakpoint, useConsolidatedRef, useI18n } from '../../hooks';\nimport Flex from '../Flex';\nimport SearchInput from '../SearchInput';\nimport Icon, { registerIcon } from '../Icon';\nimport * as filterIcon from '../Icon/icons/filter.icon';\nimport * as arrowUpDownIcon from '../Icon/icons/arrow-up-down.icon';\nimport * as rowIcon from '../Icon/icons/row.icon';\nimport * as plusIcon from '../Icon/icons/plus.icon';\nimport * as moreIcon from '../Icon/icons/more.icon';\nimport { hasProp } from '../../utils';\nimport MenuButton from '../MenuButton';\nimport { Count } from '../Badges';\n\nimport PresetMenuPopover, { PresetMenuPopoverProps } from './PresetMenuPopover';\nimport {\n  StyledViewSelector,\n  StyledSearchForm,\n  StyledListToolbar,\n  StyledHeadingText\n} from './ListToolbar.styles';\nimport {\n  ListToolbarProps,\n  PresetMenuProps,\n  QueryOptionDialogProps,\n  QueryOptionId\n} from './ListToolbar.types';\nimport QueryOptionPopover from './QueryOptionPopover';\n\nregisterIcon(filterIcon, arrowUpDownIcon, rowIcon, plusIcon, moreIcon);\n\nconst CountMeta = ({ count }: { count: NonNullable<ListToolbarProps['count']> }) => {\n  const t = useI18n();\n  return (\n    <Text variant='secondary'>\n      {count.total !== undefined &&\n        t('results_count', [count.totalHasMore ? `${count.total}+` : count.total], {\n          count: count.total\n        })}\n      {count.total !== undefined && count.selected !== undefined && ' '}\n      {count.selected !== undefined &&\n        `(${t('selected_count', [count.selected], { count: count.selected })})`}\n    </Text>\n  );\n};\n\nconst QueryOptionButton = ({\n  id,\n  queryOptionProps,\n  iconOnly,\n  onClick\n}: {\n  id: QueryOptionId;\n  queryOptionProps: QueryOptionDialogProps | PresetMenuProps;\n  iconOnly: boolean;\n  onClick: (e: MouseEvent<HTMLButtonElement>) => void;\n}) => {\n  const t = useI18n();\n  let i18nKey: 'filter' | 'sort' | 'group';\n  let icon: 'filter' | 'arrow-up-down' | 'row';\n\n  if (id === 'filter') {\n    i18nKey = 'filter';\n    icon = 'filter';\n  } else if (id === 'sort') {\n    i18nKey = 'sort';\n    icon = 'arrow-up-down';\n  } else {\n    i18nKey = 'group';\n    icon = 'row';\n  }\n\n  const text = t(i18nKey);\n  const variant = iconOnly ? 'simple' : 'text';\n\n  if (hasProp(queryOptionProps, 'renderer')) {\n    return (\n      <div>\n        <Button\n          variant={variant}\n          icon={iconOnly}\n          label={iconOnly ? text : undefined}\n          onClick={onClick}\n        >\n          <Flex container={{ inline: true, alignItems: 'center', gap: 1 }} as='span'>\n            <Icon name={icon} />\n            {!iconOnly && text}\n            {!iconOnly && queryOptionProps.count && <Count>{queryOptionProps.count}</Count>}\n          </Flex>\n        </Button>\n      </div>\n    );\n  }\n\n  if (hasProp(queryOptionProps, 'items')) {\n    return (\n      <div>\n        <MenuButton\n          variant={variant}\n          text={text}\n          icon={icon}\n          iconOnly={iconOnly}\n          count={queryOptionProps.count}\n          onClick={onClick}\n          menu={{\n            mode: queryOptionProps.mode,\n            items: queryOptionProps.items.map(item => ({ ...item, primary: item.text })),\n            onItemClick: queryOptionProps.onItemClick\n          }}\n        />\n      </div>\n    );\n  }\n\n  return null;\n};\n\nconst ListToolbar: FunctionComponent<ListToolbarProps & ForwardProps> = forwardRef(\n  (\n    {\n      heading,\n      formControlProps,\n      createNew,\n      search,\n      count,\n      additionalActions,\n      filter,\n      sort,\n      group,\n      actions,\n      actionsButtonRef,\n      condensed\n    }: PropsWithoutRef<ListToolbarProps>,\n    ref: ListToolbarProps['ref']\n  ) => {\n    const t = useI18n();\n    const isSmallOrAbove = useBreakpoint('sm');\n    const isMediumOrAbove = useBreakpoint('md');\n    const consolidatedActionsButtonRef = useConsolidatedRef(actionsButtonRef);\n\n    const [currentQueryOptionId, setCurrentQueryOptionId] = useState<QueryOptionId | null>(null);\n    const queryOptionPopoverTarget = useRef<HTMLButtonElement>();\n\n    const [actionsQueryOptionPreset, setActionsQueryOptionPreset] =\n      useState<Pick<PresetMenuPopoverProps, 'heading' | 'menu'>>();\n    const [optionPresetMenuOpen, setOptionPresetMenuOpen] = useState(false);\n\n    const createNewButton = useMemo(() => {\n      if (!createNew?.onClick) return null;\n      const text = createNew.label ?? t('create_new');\n\n      return (\n        <Button\n          variant={isSmallOrAbove ? 'secondary' : 'simple'}\n          icon={!isSmallOrAbove}\n          label={isSmallOrAbove ? undefined : text}\n          aria-label={text}\n          onClick={createNew.onClick}\n        >\n          {isSmallOrAbove ? text : <Icon name='plus' />}\n        </Button>\n      );\n    }, [t, createNew, isSmallOrAbove]);\n\n    const filterButton = filter && (\n      <QueryOptionButton\n        id='filter'\n        queryOptionProps={filter}\n        iconOnly={!isMediumOrAbove}\n        onClick={e => {\n          setCurrentQueryOptionId('filter');\n          queryOptionPopoverTarget.current = e.currentTarget;\n        }}\n      />\n    );\n\n    const sortButton = sort && (\n      <QueryOptionButton\n        id='sort'\n        queryOptionProps={sort}\n        iconOnly={!isMediumOrAbove}\n        onClick={e => {\n          setCurrentQueryOptionId('sort');\n          queryOptionPopoverTarget.current = e.currentTarget;\n        }}\n      />\n    );\n\n    const groupButton = group && (\n      <QueryOptionButton\n        id='group'\n        queryOptionProps={group}\n        iconOnly={!isMediumOrAbove}\n        onClick={e => {\n          setCurrentQueryOptionId('group');\n          queryOptionPopoverTarget.current = e.currentTarget;\n        }}\n      />\n    );\n\n    let queryOptionPopover = null;\n    if (currentQueryOptionId) {\n      const queryOptionProps = { filter, sort, group }[currentQueryOptionId];\n      if (queryOptionProps && hasProp(queryOptionProps, 'renderer')) {\n        queryOptionPopover = (\n          <QueryOptionPopover\n            target={queryOptionPopoverTarget.current}\n            heading={t(`${currentQueryOptionId}_by`)}\n            onCancel={() => {\n              if (queryOptionProps.onCancel() === false) return;\n              setCurrentQueryOptionId(null);\n            }}\n            onSubmit={() => {\n              if (queryOptionProps.onSubmit() === false) return;\n              setCurrentQueryOptionId(null);\n            }}\n          >\n            <queryOptionProps.renderer />\n          </QueryOptionPopover>\n        );\n      }\n    }\n\n    const getQueryOptionAction = useCallback(\n      (\n        id: 'sort' | 'group' | 'filter',\n        icon: string,\n        queryOptionProps: QueryOptionDialogProps | PresetMenuProps\n      ) => {\n        return {\n          text: t(id),\n          id,\n          icon,\n          count: queryOptionProps.count,\n          onClick: () => {\n            if (hasProp(queryOptionProps, 'renderer')) {\n              setCurrentQueryOptionId(id);\n              queryOptionPopoverTarget.current = consolidatedActionsButtonRef.current ?? undefined;\n            }\n            if (hasProp(queryOptionProps, 'items')) {\n              setActionsQueryOptionPreset({\n                heading: t(`${id}_by`),\n                menu: {\n                  mode: queryOptionProps.mode,\n                  items: queryOptionProps.items.map(item => ({ ...item, primary: item.text })),\n                  onItemClick: queryOptionProps.onItemClick\n                }\n              });\n              setOptionPresetMenuOpen(true);\n            }\n          }\n        };\n      },\n      []\n    );\n\n    const basicModeActions = useMemo(() => {\n      let basicActions: Action[] = [];\n      if (filter) {\n        const filterAction: Action = getQueryOptionAction('filter', 'filter', filter);\n        basicActions.push(filterAction);\n      }\n      if (sort) {\n        const sortAction: Action = getQueryOptionAction('sort', 'arrow-up-down', sort);\n        basicActions.push(sortAction);\n      }\n      if (group) {\n        const groupAction: Action = getQueryOptionAction('group', 'row', group);\n        basicActions.push(groupAction);\n      }\n      if (actions) {\n        basicActions = basicActions.concat(actions);\n      }\n\n      return basicActions.length ? basicActions : undefined;\n    }, [actions, filter, sort, group, getQueryOptionAction]);\n\n    return (\n      <Flex\n        as={StyledListToolbar}\n        container={{ direction: 'column', gap: 2 }}\n        item={{ grow: 1 }}\n        ref={ref}\n        role='toolbar'\n      >\n        {(heading ||\n          createNewButton ||\n          (condensed && (count || additionalActions || search || basicModeActions))) && (\n          <Flex container={{ alignItems: 'start', justify: 'between', gap: 2 }}>\n            <Flex container={{ alignItems: 'center', gap: 2, wrap: 'wrap' }}>\n              {heading &&\n                (typeof heading === 'string' ? (\n                  <StyledHeadingText variant='h3' required={formControlProps?.required}>\n                    {heading}\n                  </StyledHeadingText>\n                ) : (\n                  <StyledViewSelector\n                    variant='text'\n                    text={heading.views.find(view => view.selected)?.text ?? heading.views[0].text}\n                    menu={{\n                      mode: 'single-select',\n                      items: heading.views.map(view => ({\n                        ...view,\n                        primary: `${view.text}${\n                          view.id === heading.defaultId ? ` (${t('default')})` : ''\n                        }${view.id === heading.appDefaultId ? ` (${t('app_default')})` : ''}`\n                      })),\n                      onItemClick: heading.onViewSelect\n                    }}\n                    required={formControlProps?.required}\n                  />\n                ))}\n              {isSmallOrAbove && condensed && (\n                <>\n                  {count && <CountMeta count={count} />}\n                  {additionalActions}\n                </>\n              )}\n            </Flex>\n            <Flex container={{ alignItems: 'center', gap: 2 }}>\n              {search && condensed && isSmallOrAbove && <SearchInput {...search} />}\n              {createNewButton}\n              {condensed && basicModeActions && (\n                <span>\n                  <Actions\n                    items={basicModeActions.map(({ icon, ...restProps }) => ({\n                      visual: icon ? <Icon name={icon} /> : undefined,\n                      ...restProps\n                    }))}\n                    menuAt={1}\n                    ref={consolidatedActionsButtonRef}\n                  />\n                </span>\n              )}\n            </Flex>\n          </Flex>\n        )}\n        {(!condensed || !isSmallOrAbove) && (\n          <Flex container={{ alignItems: 'start', justify: 'between', gap: 2 }}>\n            <Flex\n              as={StyledSearchForm}\n              container={{ alignItems: 'center', wrap: 'wrap', gap: 2 }}\n              item={{ grow: 1 }}\n            >\n              {search && <SearchInput {...search} />}\n              {isSmallOrAbove && !condensed && (\n                <>\n                  {count && <CountMeta count={count} />}\n                  {additionalActions}\n                </>\n              )}\n            </Flex>\n            {!condensed && (filterButton || sortButton || groupButton || actions) && (\n              <Flex container={{ alignItems: 'center', gap: 1 }} md={{ container: { gap: 2 } }}>\n                <>\n                  {filterButton}\n                  {sortButton}\n                  {groupButton}\n                </>\n                {actions && (\n                  <Actions\n                    items={actions.map(({ icon, ...restProps }) => ({\n                      visual: icon ? <Icon name={icon} /> : undefined,\n                      ...restProps\n                    }))}\n                    menuAt={1}\n                    ref={consolidatedActionsButtonRef}\n                  />\n                )}\n              </Flex>\n            )}\n          </Flex>\n        )}\n        {!isSmallOrAbove && (count || additionalActions) && (\n          <Flex container={{ alignItems: 'center', wrap: 'wrap', gap: 2 }}>\n            {count && <CountMeta count={count} />}\n            {additionalActions}\n          </Flex>\n        )}\n\n        {queryOptionPopover}\n\n        {condensed && (\n          <PresetMenuPopover\n            buttonRef={consolidatedActionsButtonRef}\n            heading={actionsQueryOptionPreset?.heading}\n            menu={actionsQueryOptionPreset?.menu}\n            isOpen={optionPresetMenuOpen}\n            onClose={() => setOptionPresetMenuOpen(false)}\n          />\n        )}\n      </Flex>\n    );\n  }\n);\n\nexport default ListToolbar;\n"]}